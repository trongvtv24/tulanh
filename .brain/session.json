{
    "updated_at": "2026-02-09T03:30:00Z",
    "working_on": {
        "feature": "Social Sharing",
        "task": "Fix Share Button functionality and add Single Post Page",
        "status": "completed",
        "files": [
            "src/app/post/[id]/page.tsx",
            "src/components/feed/post-card/PostActions.tsx",
            "src/components/feed/post-card/PostHeader.tsx",
            "src/components/feed/PostCard.tsx"
        ],
        "blockers": [],
        "notes": "Đã triển khai thành công tính năng share với SSR và clipboard copy fallback"
    },
    "pending_tasks": [
        {
            "task": "Setup Nginx & SSL for Domain",
            "priority": "high",
            "notes": "Currently running on port 3000 via HTTP"
        },
        {
            "task": "Configure DNS for tulanh.online",
            "priority": "high",
            "notes": "Verify A record points to 43.228.214.174"
        }
    ],
    "recent_changes": [
        {
            "timestamp": "2026-02-09T02:50:00Z",
            "type": "feature",
            "description": "Added Single Post Page (/post/[id]) with SSR metadata for better sharing preview",
            "files": [
                "src/app/post/[id]/page.tsx",
                "src/components/feed/SinglePostView.tsx"
            ]
        },
        {
            "timestamp": "2026-02-09T03:10:00Z",
            "type": "feature",
            "description": "Enhance Share Button with Clipboard Copy and Facebook Dialog",
            "files": [
                "src/components/feed/post-card/PostActions.tsx"
            ]
        },
        {
            "timestamp": "2026-02-09T03:15:00Z",
            "type": "fix",
            "description": "Fixed post timestamp link to point to detail page",
            "files": [
                "src/components/feed/post-card/PostHeader.tsx"
            ]
        },
        {
            "timestamp": "2026-02-09T03:20:00Z",
            "type": "fix",
            "description": "Added preventDefault/stopPropagation to share button to fix interaction issues",
            "files": [
                "src/components/feed/post-card/PostActions.tsx"
            ]
        }
    ],
    "errors_encountered": [
        {
            "error": "Share button not working on VPS/Production",
            "solution": "Added event.preventDefault() and stopPropagation(), plus fallback to clipboard copy",
            "resolved": true
        },
        {
            "error": "VPS showing old version after deploy",
            "solution": "Manually removed .next folder and force rebuild (npm run build)",
            "resolved": true
        },
        {
            "error": "Auth Callback error (pkce_code_verifier_not_found)",
            "solution": "Likely cookie issue, advise user to clear cache/cookies or check domain/protocol match",
            "resolved": false
        }
    ],
    "decisions_made": [
        {
            "decision": "Use SSR for Post Detail Page",
            "reason": "Crucial for Open Graph metadata (Facebook/Twitter cards) to work correctly"
        },
        {
            "decision": "Implement 'Copy Link' + Toast as primary share feedback",
            "reason": "More reliable than opening popups which might be blocked by browsers"
        },
        {
            "decision": "Link post timestamp to detail page",
            "reason": "Standard UX pattern for social media feeds"
        }
    ],
    "deployment_notes": {
        "last_deploy": "2026-02-09T03:02:00Z",
        "deploy_method": "Manual SSH + Git Pull + PM2",
        "vps_ip": "43.228.214.174",
        "pm2_app_name": "tulanh",
        "build_time": "~50 seconds",
        "cache_strategy": "Force clear .next folder"
    },
    "audit_summary": {
        "date": "2026-02-09",
        "score": "9.6/10",
        "critical_issues": 0,
        "warnings": 0,
        "suggestions": 2,
        "npm_vulnerabilities": 0
    }
}